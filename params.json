{"name":"tappedout.github.com/api","tagline":"TappedOut","body":"# Welcome\r\n\r\n#tappedout.js\r\n\r\nThe widget can be included on any page.  It is designed around the idea of being sandboxed and not effecting any other functionality on the site it is included on.\r\n\r\nJust add this script tag to your website.\r\n```\r\n<script src=\"http://tappedout.net/tappedout.js\"></script>\r\n```\r\n\r\nThe parser will strip existing html and use a line by line evaluation of the contents to submit to tapped out for proper formatting.\r\n\r\n## Explicit Use\r\n\r\nElements with the class deck-list will be evaluated, parsed and built out.\r\n\r\nValid code:\r\n```\r\n<div class=\"deck-list\">\r\n    1x Card Name\r\n    99 Card Name 2\r\n    Ignored line\r\n    9999x Card Name 3\r\n\r\n    Sideboard|sideboard|Sideboard:\r\n    2x\r\n</div>\r\n```\r\nNumbers in a explicit block can be followed optionally by 'x'.  The word sideboard on its own line designates the following items are sideboard items. Lines starting with neither a number nor sideboard are ignored and removed in the final rendering.\r\n\r\n\r\n## Explicit Use 2\r\nAdditionally, if you want to show off a deck you created on tapped out, you can do the following:\r\n```\r\n<div class=\"deck-list\" data-stub=\"theres-a-sliver-for-that\"></div>\r\n```\r\n\r\nWhere the data-stub attributes contains your deck's stub.\r\n\r\n\r\n## Implicit Use\r\n\r\nThe widget will search for blockquote tags on your page.  If it finds one and the block contains a line that begins with a number followed by x, it will attempt to parse the content just like the explicit use.\r\n\r\n```\r\n<blockquote>\r\n    12x Serra Angel\r\n</blockquote>\r\n```\r\n\r\nThis will not parse:\r\n```\r\n<blockquote>\r\n    12 Serra Angel\r\n</blockquote>\r\n```\r\n\r\n# API Key Concepts\r\n\r\n## CardSpec\r\n\r\nA CardSpec is a representation of a card. Its a map, a hash, or a dict,\r\ndepending on the language. It can contain information, such as image, of\r\na specific printing, but it defaults to the latest one.\r\n\r\nIn general, where CardSpecs are returned by any API, you may passcard_fields=['attr',...']\r\nas a GET variable to restrict the response to only those you care about.\r\n\r\n\r\n    {\r\n        \"name\": \"Demonic Tutor\",\r\n        \"slug\": \"demonic-tutor\",\r\n        \"image_large\": \"http://...\",\r\n        \"tapped_url\": \"http://tappedout.net/mtg-card/demonic-tutor/\",\r\n        \"wizards_url\": \"...\",\r\n    }\r\n\r\n\r\n# API Endpoints\r\n\r\n## validator.tappedout.net\r\n\r\n### Check for format of a single card\r\n\r\n<a href='http://validator.tappedout.net/validate/?cards=[\"Black%20Lotus\"]'>/validate/?cards=[\"Black Lotus\"]</a>\r\n\r\n### Check format for list of cards\r\n<a href='http://validator.tappedout.net/validate/?cards=[%22llanowar%20elves%22,%22phyrexian%20dreadnought%22]'>/validate/?cards=[\"llanowar elves\",\"phyrexian dreadnought\"]</a>  \r\n\r\n### Validate format of a list of cards\r\n<a href='http://validator.tappedout.net/validate/?cards=[\"llanowar%20elves\",\"phyrexian%20dreadnought\"]&format=standard'>/validate/?cards=[\"llanowar elves\",\"phyrexian dreadnought\"]&format=standard</a>\r\n\r\n## MTG Resources\r\n\r\n### MTG Set Booster [Public]\r\n\r\nReturns a response that's like opening a pack of cards.\r\n\r\nURI: /api/mtg/boosters/?tla=count&pack_size=X [GET]\r\n\r\npack_size can be [14, 15], defaults to 15\r\n\r\n    /api/mtg/booster/?rav=10&m10=5\r\n    /api/mtg/booster/?rav=3&m10=3&9ed=4&pack_size=14\r\n\r\nResponse:  JSON map of the sets given, mapped to their packs (a list of CardSpecs). \r\n\r\n    {  \r\n       \"set\": [  # Pack: List of CardSpec (see above)\r\n            {\"card_name\": \"Demonic Tutor\" ... },\r\n            {\"card_name\": \"Phyrexian Dreadnought\" ... },\r\n       ]\r\n    }\r\n\r\n### Card Detail  (Developer Token)\r\n\r\nURI /api/mtg/[card slug]/ [GET]\r\n\r\nResponse with a CardSpec\r\n\r\n## Deck Resources\r\n\r\n### Latest Decks [Public]\r\n\r\nURI /api/deck/latest/[list name]/ [GET]\r\n\r\nList name is a slug (lower case, hyphens replace spaces) and can flexibly be either\r\n\r\n* Any of: 'top8', 'featured', 'latest', 'top8-latest'\r\n* An MTG Format name\r\n* A Deck Hub name (See http://tappedout.net/mtg-deck-builder/)\r\n* A Card name\r\n\r\n## Collection Resources\r\n\r\n### Collection List [Public with cookie or API Key]\r\n\r\nURI: /api/collection/collection/  [GET]  (all of all types)\r\nURI: /api/collection/collection:[deck/cube/list/binder]/  [GET]   (all of type)\r\n\r\nResponse:\r\n\r\n    \"deck\": [\r\n        {\"user_display\": \"<font color=\\\"black\\\">yea</font><font color=\\\"red\\\">GO!</font>\",\r\n         \"name\": \"DOMINARIA - Tolaria [D10.1a] copy\", \r\n         \"url\": \"http://tappedout.net/mtg-decks/dominaria-tolaria-d101a-copy/\", \r\n         \"inventory\": [[\"Tolaria West\", {\"b\": \"main\", \"qty\": 1}], ...]}\r\n    \"cube\": [\r\n        {.....]\r\n\r\n### Collection Detail [Public with cookie or API Key]\r\n\r\nURI: /api/collection:deck/dominaria-tolaria-d101a-copy/  [GET]\r\n\r\nyou may pass card_fields GET variable to get a subset of inventory\r\n\r\nResponse:\r\n\r\n     {\"user_display\": \"<font color=\\\"black\\\">yea</font><font color=\\\"red\\\">GO!</font>\",\r\n      \"name\": \"DOMINARIA - Tolaria [D10.1a] copy\", \r\n      \"url\": \"http://tappedout.net/mtg-decks/dominaria-tolaria-d101a-copy/\", \r\n      \"inventory\": [[\"Tolaria West\", {\"b\": \"main\", \"qty\": 1}], ...]}\r\n\r\n### Inventory [Public with cookie]\r\n\r\nAllows you to change inventory of a collection on TappedOut. You must have a TappedOut\r\ncookie, so this mostly only works on client-side calls by logged-in users.\r\n\r\nURI: /api/collection/*collection_type*/*collection_slug*/inventory/ [PUT]\r\n\r\n*    collection_type [deck, cube, binder, list]\r\n*    collection_slug - for decks, cubes, lists, the slug. for binder, the username\r\n\r\n#### PUT  (JSON list of changes)\r\n    ?changes=[{\"quantity\": \"+3\", \"card\": \"demonic tutor\", \"board\": \"side\"}]  Adds 3\r\n    ?changes=[{\"quantity\": 3, \"card\": \"demonic tutor\", \"board\": \"side\"}]   Sets to 3\r\n    ?changes=[{\"quantity\": 0, \"card\": \"demonic tutor\", \"board\": \"side\"}]   Removes all\r\n    ?changes=[{\"quantity\": -3, \"card\": \"demonic tutor\", \"board\": \"side\"}]  Removes 3\r\n\r\nResponse: A string and status code, aka \"OK\" 200 or \"Error\" 400\r\n\r\n### Cube Boosters [Public]\r\n\r\nURI: /api/collection/cube/*cube_slug*/booster/?count=X [GET]\r\n\r\ncount can be anything under 100 and above 0 and an integer\r\n\r\nyou may pass card_fields as a GET variable if you want a subset of card attributes.\r\n\r\nResponse:  JSON list of packs in order given, each with a list of cardspecs. \r\n\r\n    [  # JSON list of packs\r\n       [  # Pack: List of CardSpec (see above)\r\n            {\"card_name\": \"Demonic Tutor\" ... },\r\n            {\"card_name\": \"Phyrexian Dreadnought\" ... },\r\n       ]\r\n    ]\r\n\r\n## Base Resources\r\n\r\n### TappedOut User Session [Developer Access Token]\r\n\r\nReturns a user and their displayname given a valid TappedOut cookie. Bear in mind the 'display' may be an html snippet.\r\n\r\nURI: /api/v1/cookie/*cookie*/\r\n\r\n    /api/v1/cookie/ffa6b0344df1e8fe775af3dd99df4a6/?access_token=API_ACCESS_TOKEN\r\n\r\nResponse:\r\n\r\n    {\r\n        \"user\": \"Some User Name\",\r\n        \"display\": \"<font color=\\\"blue\\\">Some</font> User Name\",\r\n    }","google":"UA-622331-17","note":"Don't delete this file! It's used internally to help with page regeneration."}